<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.css' rel='stylesheet' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="walkers.js" charset="utf-8"></script>
    <style media="screen">
      html, body {
        margin: 0;
        padding: 0;
      }
      .branding {
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
        height: 20vh;
        background-color: #FFF;
        line-height: 20vh;
        font-size: 10vh;
        text-align: center;
        font-family: sans-serif;
        color: #767;
      }
    </style>
  </head>
  <body>
    <div id="map" style="width: 100vw; height: 100vh"></div>
    <div class="branding">BaaS: Beer as a Service</div>

    <script>
      L.mapbox.accessToken = 'pk.eyJ1IjoianVpY2UxMCIsImEiOiJjaWdlNXFtb28zdzFldmJtOGRkNnFlMnY5In0.72hyCbe4AfMONitVc23VSg';
      var map = L.mapbox.map('map', 'juice10.o1h6ah72');
      map.on('move', function () { console.log('hi', arguments, this); });

      walk(
        [[52.387418, 4.871452], [52.387458, 4.871472], [52.387518, 4.871472], [52.387558, 4.871472]],
        map,
        {isLoop: true}
      );

      walk(
        [[52.387418 - 0.0003, 4.871452 - 0.00005], [52.387458 - 0.0003, 4.871472 - 0.00005], [52.387518 - 0.0003, 4.871472 - 0.00005], [52.387558 - 0.0003, 4.871472 - 0.00015]],
        map,
        {isLoop: true, temp: 'cold'}
      );

      walk(
        [[52.387418 - 0.0003, 4.871452 - 0.00005], [52.387458 - 0.0003, 4.871472 - 0.00005], [52.387518 - 0.0003, 4.871472 - 0.00005], [52.387558 - 0.0003, 4.871472 - 0.00015]].reverse(),
        map,
        {isLoop: true, temp: 'warm', modifier: [0.0002, -0.00015]}
      );

      var sequence = [[52.386818, 4.871052], [52.386828, 4.871102]];
      walk(sequence, map, {marker: 'customer', isLoop: true});
    </script>
  </body>
</html>
